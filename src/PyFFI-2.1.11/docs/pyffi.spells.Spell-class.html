<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>pyffi.spells.Spell</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="pyffi-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >&nbsp;&nbsp;&nbsp;<a class="navbar" target="_top" href="http://pyffi.sourceforge.net/">Python File Format Interface</a>&nbsp;&nbsp;&nbsp;</th><th class="navbar" align="center">&nbsp;&nbsp;&nbsp;<a class="navbar" target="_top" href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=199269" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>&nbsp;&nbsp;&nbsp;</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="pyffi-module.html">Package&nbsp;pyffi</a> ::
        Module&nbsp;spells ::
        Class&nbsp;Spell
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="pyffi.spells.Spell-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class Spell</h1><p class="nomargin-top"><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell">source&nbsp;code</a></span></p>
<pre class="base-tree">
object --+
         |
        <strong class="uidshort">Spell</strong>
</pre>

<dl><dt>Known Subclasses:</dt>
<dd>
      <ul class="subclass-list">
<li><a href="pyffi.spells.SpellApplyPatch-class.html">SpellApplyPatch</a></li><li>, <a href="pyffi.spells.SpellGroupBase-class.html">SpellGroupBase</a></li><li>, <a href="pyffi.spells.dds.DdsSpell-class.html">dds.DdsSpell</a></li><li>, <a href="pyffi.spells.check.SpellNop-class.html">check.SpellNop</a></li><li>, <a href="pyffi.spells.check.SpellRead-class.html">check.SpellRead</a></li><li>, <a href="pyffi.spells.tga.TgaSpell-class.html">tga.TgaSpell</a></li><li>, <a href="pyffi.spells.kfm.KfmSpell-class.html">kfm.KfmSpell</a></li><li>, <a href="pyffi.spells.cgf.CgfSpell-class.html">cgf.CgfSpell</a></li><li>, <a href="pyffi.spells.nif.NifSpell-class.html">nif.NifSpell</a></li>  </ul>
</dd></dl>

<hr />
Spell base class. A spell takes a data file and then does something
useful with it. The main entry point for spells is <a href="pyffi.spells.Spell-class.html#recurse" class="link">recurse</a>, so if you
are writing new spells, start with reading the documentation with
<a href="pyffi.spells.Spell-class.html#recurse" class="link">recurse</a>.

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">toaster</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">data</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">stream</span>=<span class="summary-sig-default">None</span>)</span><br />
      Initialize the spell data.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal">bool</tt></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#_datainspect" class="summary-sig-name" onclick="show_private();">_datainspect</a>(<span class="summary-sig-arg">self</span>)</span><br />
      This is called after <a href="pyffi.object_models.FileFormat.Data-class.html#inspect" class="link">pyffi.object_models.FileFormat.Data.inspect</a> has
been called, and before <a href="pyffi.object_models.FileFormat.Data-class.html#read" class="link">pyffi.object_models.FileFormat.Data.read</a> is
called.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell._datainspect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal">bool</tt></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#datainspect" class="summary-sig-name">datainspect</a>(<span class="summary-sig-arg">self</span>)</span><br />
      This is called after <a href="pyffi.object_models.FileFormat.Data-class.html#inspect" class="link">pyffi.object_models.FileFormat.Data.inspect</a> has
been called, and before <a href="pyffi.object_models.FileFormat.Data-class.html#read" class="link">pyffi.object_models.FileFormat.Data.read</a> is
called.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.datainspect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal">bool</tt></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#_branchinspect" class="summary-sig-name" onclick="show_private();">_branchinspect</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">branch</span>)</span><br />
      Check if spell should be cast on this branch or not, based on
exclude and include options passed on the command line.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell._branchinspect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal">bool</tt></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#branchinspect" class="summary-sig-name">branchinspect</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">branch</span>)</span><br />
      Like <a href="pyffi.spells.Spell-class.html#_branchinspect" class="link" onclick="show_private();">_branchinspect</a>, but for customization: can be overridden to
perform an extra inspection (the default implementation always
returns <tt class="rst-docutils literal">True</tt>).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.branchinspect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#recurse" class="summary-sig-name">recurse</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">branch</span>=<span class="summary-sig-default">None</span>)</span><br />
      Helper function which calls <a href="pyffi.spells.Spell-class.html#_branchinspect" class="link" onclick="show_private();">_branchinspect</a> and <a href="pyffi.spells.Spell-class.html#branchinspect" class="link">branchinspect</a>
on the branch,
if both successful then <a href="pyffi.spells.Spell-class.html#branchentry" class="link">branchentry</a> on the branch, and if this is
succesful it calls <a href="pyffi.spells.Spell-class.html#recurse" class="link">recurse</a> on the branch's children, and
once all children are done, it calls <a href="pyffi.spells.Spell-class.html#branchexit" class="link">branchexit</a>.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.recurse">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal">bool</tt></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#dataentry" class="summary-sig-name">dataentry</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Called before all blocks are recursed.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.dataentry">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal">bool</tt></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#branchentry" class="summary-sig-name">branchentry</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">branch</span>)</span><br />
      Cast the spell on the given branch.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.branchentry">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#branchexit" class="summary-sig-name">branchexit</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">branch</span>)</span><br />
      Cast a spell on the given branch, after all its children,
grandchildren, have been processed, if <a href="pyffi.spells.Spell-class.html#branchentry" class="link">branchentry</a> returned
<tt class="rst-docutils literal">True</tt> on the given branch.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.branchexit">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#dataexit" class="summary-sig-name">dataexit</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Called after all blocks have been processed, if <a href="pyffi.spells.Spell-class.html#dataentry" class="link">dataentry</a>
returned <tt class="rst-docutils literal">True</tt>.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.dataexit">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="append_report"></a><span class="summary-sig-name">append_report</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">report</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.append_report">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS METHODS ==================== -->
<a name="section-ClassMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal">bool</tt></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#toastentry" class="summary-sig-name">toastentry</a>(<span class="summary-sig-arg">cls</span>,
        <span class="summary-sig-arg">toaster</span>)</span><br />
      Called just before the toaster starts processing
all files.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.toastentry">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#toastexit" class="summary-sig-name">toastexit</a>(<span class="summary-sig-arg">cls</span>,
        <span class="summary-sig-arg">toaster</span>)</span><br />
      Called when the toaster has finished processing
all files.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.toastexit">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyffi.spells.Spell-class.html#get_toast_stream" class="summary-sig-name">get_toast_stream</a>(<span class="summary-sig-arg">cls</span>,
        <span class="summary-sig-arg">toaster</span>,
        <span class="summary-sig-arg">filename</span>,
        <span class="summary-sig-arg">test_exists</span>=<span class="summary-sig-default">False</span>)</span><br />
      Returns the stream that the toaster will write to.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.get_toast_stream">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="data"></a><span class="summary-name">data</span> = <code title="None">None</code><br />
      The <a href="pyffi.object_models.FileFormat.Data-class.html" class="link">pyffi.object_models.FileFormat.Data</a> instance
this spell acts on.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="stream"></a><span class="summary-name">stream</span> = <code title="None">None</code><br />
      The current <tt class="rst-docutils literal">file</tt> being processed.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="toaster"></a><span class="summary-name">toaster</span> = <code title="None">None</code><br />
      The <a href="pyffi.spells.Toaster-class.html" class="link">Toaster</a> instance this spell is called from.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="pyffi.spells.Spell-class.html#changed" class="summary-name">changed</a> = <code title="False">False</code><br />
      Whether the spell changed the data.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="reports"></a><span class="summary-name">reports</span> = <code title="None">None</code><br />
      Any information the spell wants to report back to the toaster
(used for instance for regression testing).
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="pyffi.spells.Spell-class.html#READONLY" class="summary-name">READONLY</a> = <code title="True">True</code><br />
      A <tt class="rst-docutils literal">bool</tt> which determines whether the spell is read only or
not.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="pyffi.spells.Spell-class.html#SPELLNAME" class="summary-name">SPELLNAME</a> = <code title="None">None</code><br />
      A <tt class="rst-docutils literal">str</tt> describing how to refer to the spell from the command line.
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">toaster</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">data</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">stream</span>=<span class="sig-default">None</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Initialize the spell data.
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>data</code></strong> (<a href="pyffi.object_models.FileFormat.Data-class.html" class="link">pyffi.object_models.FileFormat.Data</a>) - The file <a href="pyffi.spells.Spell-class.html#data" class="link">data</a>.</li>
        <li><strong class="pname"><code>stream</code></strong> (<tt class="rst-docutils literal">file</tt>) - The file <a href="pyffi.spells.Spell-class.html#stream" class="link">stream</a>.</li>
        <li><strong class="pname"><code>toaster</code></strong> (<a href="pyffi.spells.Toaster-class.html" class="link">Toaster</a>) - The <a href="pyffi.spells.Spell-class.html#toaster" class="link">toaster</a> this spell is called from (optional).</li>
    </ul></dd>
    <dt>Overrides:
        object.__init__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="_datainspect"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_datainspect</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell._datainspect">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  This is called after <a href="pyffi.object_models.FileFormat.Data-class.html#inspect" class="link">pyffi.object_models.FileFormat.Data.inspect</a> has
been called, and before <a href="pyffi.object_models.FileFormat.Data-class.html#read" class="link">pyffi.object_models.FileFormat.Data.read</a> is
called.
  <dl class="fields">
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal">bool</tt></dt>
        <dd><tt class="rst-docutils literal">True</tt> if the file must be processed, <tt class="rst-docutils literal">False</tt> otherwise.</dd>
  </dl>
</td></tr></table>
</div>
<a name="datainspect"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">datainspect</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.datainspect">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  This is called after <a href="pyffi.object_models.FileFormat.Data-class.html#inspect" class="link">pyffi.object_models.FileFormat.Data.inspect</a> has
been called, and before <a href="pyffi.object_models.FileFormat.Data-class.html#read" class="link">pyffi.object_models.FileFormat.Data.read</a> is
called. Override this function for customization.
  <dl class="fields">
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal">bool</tt></dt>
        <dd><tt class="rst-docutils literal">True</tt> if the file must be processed, <tt class="rst-docutils literal">False</tt> otherwise.</dd>
  </dl>
</td></tr></table>
</div>
<a name="_branchinspect"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_branchinspect</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">branch</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell._branchinspect">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Check if spell should be cast on this branch or not, based on
exclude and include options passed on the command line. You should
not need to override this function: if you need additional checks on
whether a branch must be parsed or not, override the <a href="pyffi.spells.Spell-class.html#branchinspect" class="link">branchinspect</a>
method.
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>branch</code></strong> (<a href="pyffi.utils.graph.GlobalNode-class.html" class="link">pyffi.utils.graph.GlobalNode</a>) - The branch to check.</li>
    </ul></dd>
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal">bool</tt></dt>
        <dd><tt class="rst-docutils literal">True</tt> if the branch must be processed, <tt class="rst-docutils literal">False</tt> otherwise.</dd>
  </dl>
</td></tr></table>
</div>
<a name="branchinspect"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">branchinspect</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">branch</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.branchinspect">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Like <a href="pyffi.spells.Spell-class.html#_branchinspect" class="link" onclick="show_private();">_branchinspect</a>, but for customization: can be overridden to
perform an extra inspection (the default implementation always
returns <tt class="rst-rst-docutils literal rst-docutils literal">True</tt>).
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>branch</code></strong> (<a href="pyffi.utils.graph.GlobalNode-class.html" class="link">pyffi.utils.graph.GlobalNode</a>) - The branch to check.</li>
    </ul></dd>
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal">bool</tt></dt>
        <dd><tt class="rst-docutils literal">True</tt> if the branch must be processed, <tt class="rst-docutils literal">False</tt> otherwise.</dd>
  </dl>
</td></tr></table>
</div>
<a name="recurse"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">recurse</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">branch</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.recurse">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Helper function which calls <a href="pyffi.spells.Spell-class.html#_branchinspect" class="link" onclick="show_private();">_branchinspect</a> and <a href="pyffi.spells.Spell-class.html#branchinspect" class="link">branchinspect</a>
on the branch,
if both successful then <a href="pyffi.spells.Spell-class.html#branchentry" class="link">branchentry</a> on the branch, and if this is
succesful it calls <a href="pyffi.spells.Spell-class.html#recurse" class="link">recurse</a> on the branch's children, and
once all children are done, it calls <a href="pyffi.spells.Spell-class.html#branchexit" class="link">branchexit</a>.</p>
<p>Note that <a href="pyffi.spells.Spell-class.html#_branchinspect" class="link" onclick="show_private();">_branchinspect</a> and <a href="pyffi.spells.Spell-class.html#branchinspect" class="link">branchinspect</a> are not called upon
first entry of this function, that is, when called with <a href="pyffi.spells.Spell-class.html#data" class="link">data</a> as
branch argument. Use <a href="pyffi.spells.Spell-class.html#datainspect" class="link">datainspect</a> to stop recursion into this branch.</p>
<p>Do not override this function.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>branch</code></strong> (<a href="pyffi.utils.graph.GlobalNode-class.html" class="link">pyffi.utils.graph.GlobalNode</a>) - The branch to start the recursion from, or <tt class="rst-docutils literal">None</tt>
to recurse the whole tree.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="dataentry"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">dataentry</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.dataentry">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Called before all blocks are recursed.
The default implementation simply returns <tt class="rst-docutils literal">True</tt>.
You can access the data via <a href="pyffi.spells.Spell-class.html#data" class="link">data</a>, and unlike in the
<a href="pyffi.spells.Spell-class.html#datainspect" class="link">datainspect</a> method, the full file has been processed at this stage.</p>
<p>Typically, you will override this function to perform a global
operation on the file data.</p>
  <dl class="fields">
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal">bool</tt></dt>
        <dd><tt class="rst-docutils literal">True</tt> if the children must be processed, <tt class="rst-docutils literal">False</tt> otherwise.</dd>
  </dl>
</td></tr></table>
</div>
<a name="branchentry"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">branchentry</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">branch</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.branchentry">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Cast the spell on the given branch. First called with branch equal to
<a href="pyffi.spells.Spell-class.html#data" class="link">data</a>'s children, then the grandchildren, and so on.
The default implementation simply returns <tt class="rst-docutils literal">True</tt>.</p>
<p>Typically, you will override this function to perform an operation
on a particular block type and/or to stop recursion at particular
block types.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>branch</code></strong> (<a href="pyffi.utils.graph.GlobalNode-class.html" class="link">pyffi.utils.graph.GlobalNode</a>) - The branch to cast the spell on.</li>
    </ul></dd>
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal">bool</tt></dt>
        <dd><tt class="rst-docutils literal">True</tt> if the children must be processed, <tt class="rst-docutils literal">False</tt> otherwise.</dd>
  </dl>
</td></tr></table>
</div>
<a name="branchexit"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">branchexit</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">branch</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.branchexit">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Cast a spell on the given branch, after all its children,
grandchildren, have been processed, if <a href="pyffi.spells.Spell-class.html#branchentry" class="link">branchentry</a> returned
<tt class="rst-rst-docutils literal rst-docutils literal">True</tt> on the given branch.</p>
<p>Typically, you will override this function to perform a particular
operation on a block type, but you rely on the fact that the children
must have been processed first.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>branch</code></strong> (<a href="pyffi.utils.graph.GlobalNode-class.html" class="link">pyffi.utils.graph.GlobalNode</a>) - The branch to cast the spell on.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="dataexit"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">dataexit</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.dataexit">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Called after all blocks have been processed, if <a href="pyffi.spells.Spell-class.html#dataentry" class="link">dataentry</a>
returned <tt class="rst-rst-docutils literal rst-docutils literal">True</tt>.</p>
<p>Typically, you will override this function to perform a final spell
operation, such as writing back the file in a special way, or making a
summary log.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="toastentry"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">toastentry</span>(<span class="sig-arg">cls</span>,
        <span class="sig-arg">toaster</span>)</span>
    <br /><em class="fname">Class Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.toastentry">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Called just before the toaster starts processing
all files. If it returns <tt class="rst-docutils literal">False</tt>, then the spell is not used.
The default implementation simply returns <tt class="rst-docutils literal">True</tt>.</p>
<p>For example, if the spell only acts on a particular block type, but
that block type is excluded, then you can use this function to flag
that this spell can be skipped. You can also use this function to
initialize statistics data to be aggregated from files, to
initialize a log file, and so.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>toaster</code></strong> (<a href="pyffi.spells.Toaster-class.html" class="link">Toaster</a>) - The toaster this spell is called from.</li>
    </ul></dd>
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal">bool</tt></dt>
        <dd><tt class="rst-docutils literal">True</tt> if the spell applies, <tt class="rst-docutils literal">False</tt> otherwise.</dd>
  </dl>
</td></tr></table>
</div>
<a name="toastexit"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">toastexit</span>(<span class="sig-arg">cls</span>,
        <span class="sig-arg">toaster</span>)</span>
    <br /><em class="fname">Class Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.toastexit">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Called when the toaster has finished processing
all files.
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>toaster</code></strong> (<a href="pyffi.spells.Toaster-class.html" class="link">Toaster</a>) - The toaster this spell is called from.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="get_toast_stream"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_toast_stream</span>(<span class="sig-arg">cls</span>,
        <span class="sig-arg">toaster</span>,
        <span class="sig-arg">filename</span>,
        <span class="sig-arg">test_exists</span>=<span class="sig-default">False</span>)</span>
    <br /><em class="fname">Class Method</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyffi.spells-pysrc.html#Spell.get_toast_stream">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Returns the stream that the toaster will write to. The
default implementation calls <tt class="rst-docutils literal">toaster.get_toast_stream</tt>, but
spells that write to different file(s) can override this
method.
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== CLASS VARIABLE DETAILS ==================== -->
<a name="section-ClassVariableDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variable Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariableDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="changed"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">changed</h3>
  Whether the spell changed the data. If <tt class="rst-docutils literal">True</tt>, the file will be
written back, otherwise not.
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
False
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="READONLY"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">READONLY</h3>
  A <tt class="rst-rst-docutils literal rst-docutils literal">bool</tt> which determines whether the spell is read only or
not. Default value is <tt class="rst-docutils literal">True</tt>. Override this class attribute, and
set to <tt class="rst-docutils literal">False</tt>, when subclassing a spell that must write files
back to the disk.
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
True
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="SPELLNAME"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">SPELLNAME</h3>
  A <tt class="rst-rst-docutils literal rst-docutils literal">str</tt> describing how to refer to the spell from the command line.
Override this class attribute when subclassing.
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
None
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="pyffi-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >&nbsp;&nbsp;&nbsp;<a class="navbar" target="_top" href="http://pyffi.sourceforge.net/">Python File Format Interface</a>&nbsp;&nbsp;&nbsp;</th><th class="navbar" align="center">&nbsp;&nbsp;&nbsp;<a class="navbar" target="_top" href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=199269" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>&nbsp;&nbsp;&nbsp;</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Sat Nov 26 08:35:16 2011
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
